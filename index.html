<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Überblick</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <button id="backBtn" style="display: none;">← Back</button>
    <h1>Überblick</h1>
  </header>

  <nav id="category-bar"></nav>
  <main id="content"></main>

  <script>
    let newsData = {};
    let currentCategory = '';

    async function loadNews() {
      const response = await fetch('news.json');
      newsData = await response.json();
      createCategoryButtons();
      const firstCategory = Object.keys(newsData)[0];
      showCategory(firstCategory, false);
    }

    function createCategoryButtons() {
      const nav = document.getElementById('category-bar');
      nav.innerHTML = '';
      Object.keys(newsData).forEach(category => {
        const btn = document.createElement('button');
        btn.textContent = category;
        btn.className = 'category-button';
        btn.onclick = () => showCategory(category, true);
        nav.appendChild(btn);
      });
    }

    function showCategory(category, showBack) {
      currentCategory = category;
      const content = document.getElementById('content');
      content.innerHTML = '';
      document.getElementById('backBtn').style.display = showBack ? 'inline-block' : 'none';

      newsData[category].forEach(article => {
        const articleDiv = document.createElement('div');
        articleDiv.className = 'article';
        articleDiv.innerHTML = `
          <h2>${article.title}</h2>
          <p>${article.body_text}</p>
        `;
        content.appendChild(articleDiv);
      });
    }

    document.getElementById('backBtn').onclick = () => {
      showCategory(Object.keys(newsData)[0], false);
    };

    loadNews();
  </script>
</body>
</html>
